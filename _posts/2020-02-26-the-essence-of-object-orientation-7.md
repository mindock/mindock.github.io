---
published: true
layout: single
title: "객체지향의 사실과 오해 7장"
category: book
tags: [The Essence of Object-Orientation]
comments: false
---

# 7장 함께 모으기

#### 개념 관점(Conceptual Perspective)

- 설계는 도메인 안에 존재하는 개념과 개념들 사이의 관계를 표현한다.
- 사용자가 도메인을 바라보는 관점을 반영한다.
- 실제 도메인의 규칙과 제약을 최대한 유사하게 반영하는 것이 핵심이다.

#### 명세 관점(Specification PErspective)

- 객체의 인터페이스를 바라보게 된다. = 실제로 소프트웨어 안에서 살아 숨쉬는 객체들의 책임에 초점을 맞추게 된다.
- 프로그래머는 객체가 협력을 위해 '무엇'을 할 수 있는가에 초점을 맞춘다.
- "구현이 아니라 인터페이스에 대해 프로그래밍하라"를 따르는 것은 명세 관점과 구현 관점을 명확하게 분리하는 것에서부터 시작된다.

#### 구현 관점(Implementation Perspective)

- 실제 작업을 수행하는 코드와 연관되어 있다.
- 객체들이 책임을 수행하는 데 필요한 동작하는 코드를 작성하는 것에 초점을 맞춘다.
- 프로그래머는 객체의 책임을 '어떻게' 수행할 것인가에 초점을 맞춘다.

클래스가 은유하는 개념은 도메인 관점을 반영한다. 클래스의 공용 인터페이스는 명세 관점을 반영한다. 클래스의 속성과 메서드는 구현 관점을 반영한다.

:bulb: 클래스는 세가지 관점을 모두 수용할 수 있도록 개념, 인터페이스, 구현을 함께 드러내야 한다. 동시에 코드 안에서 세 가지 관점을 쉽게 식별할 수 있도록 깔끔하게 분리해야 한다.

## 커피 전문점 도메인

### 커피 전문점이라는 세상

![객체로 구성된 커피 전문점 세상](/assets/images/coffee_store_object.PNG)

상태와 무관하게 동일하게 행동할 수 있는 객체들을 동일한 타입으로 분류해 복잡성을 낮추자.

손님 객체는 '손님 타입'의 인스턴스로 볼 수 있다. 바리스타 객체는 '바리스타 타입' 인스턴스로 볼 수 있다. 아메리카노 커피, 에스프레소 커피, 카푸치노 커피는 모두 '커피 타입'의 인스턴스로 볼 수 있다. 메뉴판 객체는 '메뉴판 타입'의 인스턴스다. 메뉴판 객체는 아메리카노, 에스프레소, 카푸치노라는 메뉴 항목 객체를 포함할 수 있으며, 이때 메뉴 항목 객체는 '메뉴 항목 타입'의 인스턴스다.

![커피 전문점의 도메인 모델](/assets/images/coffee_store_domain_model.PNG)

커피 제조와 관련된 객체들을 타입과 관계를 이용해 추상화한 일종의 모델로, 소프트웨어가 대상으로 하는 영역인 도메인을 단순화해서 표현한 모델 즉, **도메인 모델**이다.

메뉴판 타입에서 메뉴 항목 쪽으로 향하는 선에 그려진 속이 찬 마름모는 **포함(containment) 관계** 또는 **합성(composition) 관계**를 나타낸다. 즉, 메뉴 항목이 메뉴판에 포함된다는 사실을 표현한다. 메뉴 항목 좌측 아래 숫자는 메뉴판에 포함되는 메뉴 항목의 갯수를 의미한다.

손님 타입은 메뉴판 타입을 알고 있어야 원하는 커피를 선택할 수 있다. 하지만, 메뉴판 타입은 손님의 일부가 아니므로 합성 관계가 아니다. 이처럼 한 타입의 인스턴스가 다른 타입의 인스턴스를 포함하지는 않지만 서로 알고 있어야 할 경우 **연관(association) 관계**라고 한다. 바리스타 타입은 커피를 제조해야하므로 커피 타입을 알고 있어야하지만, 메뉴판 타입과 커피 타입 중 어떤 것도 바리스타의 일부가 아니므로 연관 관계이다.

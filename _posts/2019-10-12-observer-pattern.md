---
published: true
layout: single
title: "Observer Pattern"
category: book
tags: [Head First, design pattern, observer pattern]
comments: false
---

> **ì˜µì €ë²„ íŒ¨í„´(Observer Pattern)**  
> í•œ ê°ì²´ì˜ ìƒíƒœê°€ ë°”ë€Œë©´ ê·¸ ê°ì²´ì— ì˜ì¡´í•˜ëŠ” ë‹¤ë¥¸ ê°ì²´ë“¤í•œí…Œ ì—°ë½ì´ ê°€ê³  ìë™ìœ¼ë¡œ ë‚´ìš©ì´ ê°±ì‹ ë˜ëŠ” ë°©ì‹  
> ì¼ëŒ€ë‹¤(one-to-many) ì˜ì¡´ì„±ì„ ì •ì˜í•œë‹¤.

### ì˜µì €ë²„ íŒ¨í„´ì˜ ì •ì˜

1. Subject(ì£¼ì œ)
   - ìƒíƒœë¥¼ ì €ì¥í•˜ê³  ìˆëŠ” ê°ì²´
   - ë°ì´í„°ê°€ ë°”ë€Œë©´ ìƒˆë¡œìš´ ë°ì´í„° ê°’ì´ ì–´ë–¤ ë°©ë²•ìœ¼ë¡œë“  ì˜µì €ë²„ë“¤ì—ê²Œ ì „ë‹¬ëœë‹¤.
2. Observer(ì˜µì €ë²„)
   - ì£¼ì œì— ì˜ì¡´í•œë‹¤(ì£¼ì œ ê°ì²´ë¥¼ êµ¬ë…í•˜ê³  ìˆë‹¤).
   - ë°˜ë“œì‹œ ìƒíƒœë¥¼ ê°€ì§€ê³  ìˆì–´ì•¼ í•˜ëŠ” ê²ƒì€ ì•„ë‹ˆë‹¤.

![ì˜µì €ë²„ íŒ¨í„´ í´ë˜ìŠ¤ ë‹¤ì´ì–´ê·¸ë¨](/assets/images/observer_pattern_1.png)

### ëŠìŠ¨í•œ ê²°í•©(Loose Coupling)ì˜ ìœ„ë ¥

1. ì£¼ì œê°€ ì˜µì €ë²„ì— ëŒ€í•´ì„œ ì•„ëŠ” ê²ƒì€ ì˜µì €ë²„ê°€ íŠ¹ì • ì¸í„°í˜ì´ìŠ¤(Observer ì¸í„°í˜ì´ìŠ¤)ë¥¼ êµ¬í˜„í•œë‹¤ëŠ” ê²ƒ ë¿ì´ë‹¤.
   - ì˜µì €ë²„ê°€ ë¬´ì—‡ì„ í•˜ëŠ”ì§€/êµ¬ìƒ í´ë˜ìŠ¤ê°€ ë¬´ì—‡ì¸ì§€ ë“± ì•Œ í•„ìš”ê°€ ì—†ë‹¤.
2. ì˜µì €ë²„ëŠ” ì–¸ì œë“ ì§€ ìƒˆë¡œ ì¶”ê°€/ì œê±°í•  ìˆ˜ ìˆë‹¤.
3. ìƒˆë¡œìš´ í˜•ì‹ì˜ ì˜µì €ë²„ë¥¼ ì¶”ê°€í•˜ë ¤ê³  í•  ë•Œë„ ì£¼ì œë¥¼ ì „í˜€ ë³€ê²½í•  í•„ìš”ê°€ ì—†ë‹¤.
   - ìƒˆë¡œìš´ í´ë˜ìŠ¤ì—ì„œ Observer ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•˜ê³  ì˜µì €ë²„ë¡œ ë“±ë¡í•˜ë©´ ëœë‹¤.
4. ì£¼ì œì™€ ì˜µì €ë²„ëŠ” ì„œë¡œ ë…ë¦½ì ìœ¼ë¡œ ì¬ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.
5. ì£¼ì œë‚˜ ì˜µì €ë²„ê°€ ë°”ë€Œë”ë¼ë„ ì„œë¡œí•œí…Œ ì˜í–¥ì„ ë¯¸ì¹˜ì§€ëŠ” ì•ŠëŠ”ë‹¤.
   - ì£¼ì œ í˜¹ì€ ì˜µì €ë²„ ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•œë‹¤ëŠ” ì¡°ê±´ë§Œ ë§Œì¡±ëœë‹¤ë©´, ì–´ë–»ê²Œ ë°”ê¿”ë„ ë¬¸ì œê°€ ë˜ì§€ ì•ŠëŠ”ë‹¤.

> **ë””ìì¸ ì›ì¹™**  
> ì„œë¡œ ìƒí˜¸ì‘ìš©ì„ í•˜ëŠ” ê°ì²´ ì‚¬ì´ì—ì„œëŠ” ê°€ëŠ¥í•˜ë©´ ëŠìŠ¨í•˜ê²Œ ê²°í•©í•˜ëŠ” ë””ìì¸ì„ ì‚¬ìš©í•´ì•¼ í•œë‹¤.

:bulb: ê°ì²´ ì‚¬ì´ì˜ ìƒí˜¸ì˜ì¡´ì„±ì„ ìµœì†Œí™”í•´ ë³€ê²½ ì‚¬í•­ì´ ìƒê²¨ë„ ë¬´ë‚œíˆ ì²˜ë¦¬í•  ìˆ˜ ìˆëŠ” ìœ ì—°í•œ ê°ì²´ì§€í–¥ ì‹œìŠ¤í…œì„ êµ¬ì¶•í•  ìˆ˜ ìˆë‹¤.

### ì˜µì €ë²„ì—ê²Œ ìƒíƒœ ì •ë³´ë¥¼ ì „ë‹¬í•˜ëŠ” ë°©ë²•

1. PUSH ë°©ì‹
   - ì£¼ì œê°€ ì˜µì €ë²„ì—ê²Œ ì •ë³´ë¥¼ ë³´ë‚´ëŠ” ë°©ì‹
   - ì˜µì €ë²„ë“¤ì´ í•„ìš”í•œ ê²ƒì„ ëª¨ë‘ í•œë²ˆì— ì „ë‹¬í•  ìˆ˜ ìˆë‹¤.
   - ì˜µì €ë²„ ì…ì¥ì—ì„œëŠ” í•„ìš”ì—†ëŠ” ìƒíƒœì˜ ë³€í™”ì— ëŒ€í•´ì„œë„ ì—°ë½ì´ ì˜¨ë‹¤.
2. PULL ë°©ì‹
   - ì˜µì €ë²„ê°€ ì£¼ì œì˜ ìƒíƒœë¥¼ ê°€ì ¸ì˜¤ëŠ” ë°©ì‹
   - public getterë¥¼ ì´ìš©í•´ í•„ìš”í•œ ìƒíƒœë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ìˆë‹¤.
     - ì¡°ê¸ˆë§Œ ì•Œì•„ë„ ë˜ëŠ” ì˜µì €ë²„ê°€ ìˆë‹¤ë©´, ì¼ë¶€ ìƒíƒœë§Œ ê°€ì ¸ê°€ë„ ëœë‹¤.
   - í•„ìš”í•œ ìƒíƒœë¥¼ ëª¨ë‘ ê°€ì ¸ê°€ê¸° ìœ„í•´ ë©”ì†Œë“œë¥¼ ì—¬ëŸ¬ë²ˆ í˜¸ì¶œí•´ì•¼í•œë‹¤.

### ğŸ¤·â€ ì˜ ì´í•´ë˜ì§€ ì•Šì€ ë¶€ë¶„?

```java
public class CurrentConditionsDisplay implements Observers, DisplayElement {
    private float temperature;
    private float humidity;
    private Subject weatherData;

    public CurrentConditionsDisplay(Subject weatherData) {
        this.weatherData = weatherData;
        weatherData.registerObserver(this);
    }

    public void update(float temperature, float humidity, float pressure) {
        this.temperature = temperature;
        this.humidity = humidity;
        display();
    }

    public void display() {
        System.out.println("Current conditions: " + temperature + "F degrees and " + humidity + "% humidity");
    }
}
```

Q1. ìƒì„±ìì—ì„œ Subjectë¥¼ ë„˜ê²¨ ì €ì¥í•˜ëŠ” ì´ìœ ?

- ë‚˜ì¤‘ì— ì˜µì €ë²„ ëª©ë¡ì—ì„œ íƒˆí‡´í•´ì•¼ í•œë‹¤ë©´, ì£¼ì œ ê°ì²´ì— ëŒ€í•œ ë ˆí¼ëŸ°ìŠ¤ë¥¼ ì €ì¥í•´ ë‘ë©´ ìœ ìš©í•˜ê²Œ ì“¸ ìˆ˜ ìˆì„ ê²ƒì´ë‹¤.

---
published: true
layout: single
title: "컴퓨터 구조 및 설계 4장"
category: book
tags: [Computer Organization and Design]
comments: false
---

# 4장 프로세서

## 4.2 논리 설계 관례

MIPS 구현에 쓰이는 데이터패스 요소는 2가지 종류의 논리 소자들로 구성된다.

- **조합소자(combinational element)**
  - 데이터 값에만 동작하는 소자
  - 출력이 현재의 입력에만 의존한다.
  - 같은 입력이 주어지면 항상 같은 출력을 낸다.
  - ex) ALU: 내부 기억소자가 없기 때문에 주어진 입력에 대하여 항상 같은 출력을 낸다.
- **상태소자(state element)**
  - 상태를 갖는다.
  - 소자에 내부 기억장소가 있으면 상태를 갖게 된다.
  - 플러그를 빼도 소자가 가지고 있던 값들로 상태소자를 적재하면 다시 시작시킬 수 있다.
  - ex) 명령어 메모리, 데이터 메모리 및 레지스터
  - 적어도 2개의 입력과 1개의 출력을 갖는다. (꼭 있어야 되는 입력은 기록할 데이터와 클럭이다.)
    - 클럭 입력은 데이터 값이 소자에 기록되는 시점을 결정한다.
    - 상태소자의 출력은 이전 클럭 사이클에 기록된 값이다.
  - 상태소자의 값을 읽는 것은 언제라도 가능하다.
- **순차회로(sequential circuit)**
  - 상태를 포함하는 논리소자들
  - 출력이 입력뿐만 아니라 내부 상태에도 의존한다.

### 클러킹 방법론

신호를 언제 읽을 수 있고 언제 쓸 수 있는지를 정의한다. 예측 가능성을 보장하기 위해 고안되었다.

단순화를 위해 에지 구동 클러킹(edge-triggered clocking) 방법론을 가정한다. 이는 순차논리소자에 저장된 값은 클럭 에지에서만 바꿀 수 있다는 것을 의미한다.
이때, 클럭 에지는 낮은 값에서 높은 값 혹은 그 반대로의 빠른 변이를 말한다. 모든 조합회로는 상태소자에서 입력을 받고 상태소자로 출력을 내보낸다.
입력은 이전 클럭 사이클에서 쓴 값이고 출력은 다음 클럭 사이클에서 사용할 수 있는 값이다.

클럭 신호와 쓰기 제어 신호는 상태소자의 입력이며, 쓰기 제어신호가 인가되고 활성화 클럭 에지일 때만 상태소자가 변하게 된다.
여기서 인가된(asserted)라는 용어는 논리적으로 높은 신호를 표시한다. 논리적으로 낮은 값을 표시하기 위해서는 비인가된(deasserted)라는 용어를 사용한다.

에지 구동 방법론은 레지스터의 내용을 읽고 그 값을 조합회로로 보내고 같은 레지스터에 쓰는 작업 모두가 한 클럭 사이클에 일어나는 것을 허용한다.
조합회로에 대한 입력은 선택된 클럭 에지에서만 변한다. 또한, 한 클럭 사이클 내에는 피드백(feedback)이 되지 않는다.

32비트 MIPS가 취급하는 거의 모든 데이터는 32비트 폭을 갖는다. 그렇기 때문에 프로세서의 상태소자와 논리소자의 입력과 출력 폭은 거의 다 32비트이다.
그림에서 버스(bus)는 굵은 선으로 표시할 것이다. 버스는 폭이 2비트 이상인 신호들이다. 여러 버스들을 합쳐서 더 넓은 버스를 만드는 경우, 버스선에 레이블을 붙여서 버스를 합쳤다는 것을 명확하게 나타낸다. 소자 간의 데이터 흐름 방향을 명확하게 하기 위해 화살표를 붙이기도 한다. 끝으로 데이터를 운반하는 신호와 구별하기 위해 제어신호는 파란색으로 나타낸다.
